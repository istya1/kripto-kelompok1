<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Kombinasi Cipher</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    function copyResult() {
      const text = document.getElementById("cipherResult").innerText;
      navigator.clipboard.writeText(text);
    }
  </script>
</head>
<body class="bg-white text-white min-h-screen flex flex-col">

 
   <!-- Navbar -->
<nav class="fixed w-full z-20 backdrop-blur-lg bg-black/60 border-b border-gray-800/60 shadow-md">
  <div class="flex justify-between items-center px-8 py-4 max-w-7xl mx-auto">
    
    <!-- Logo -->
    <a href="/" class="text-2xl font-extrabold tracking-wide text-blue-500 hover:text-blue-400 transition-all">
      ENDES<span class="text-gray-300">Crypto</span>
    </a>

    <!-- Menu -->
    <ul class="hidden md:flex flex-1 justify-center space-x-8 text-gray-300 font-medium">
      <li><a href="/" class="nav-link">Home</a></li>
      <li><a href="/zigzag" class="nav-link">Zigzag Cipher</a></li>
      <li><a href="/vigenere" class="nav-link">Vigenere Cipher</a></li>
      <li><a href="/stream" class="nav-link">Stream Cipher</a></li>
      <li><a href="/aes" class="nav-link">AES Cipher</a></li>
      <li><a href="/combine" class="nav-link">Combine Cipher</a></li>
    </ul>

    <!-- Tombol Menu Mobile -->
    <button id="menu-toggle" class="md:hidden text-gray-300 hover:text-blue-400 transition">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" 
           stroke-width="2" stroke="currentColor" class="w-7 h-7">
        <path stroke-linecap="round" stroke-linejoin="round" 
              d="M4 6h16M4 12h16m-7 6h7" />
      </svg>
    </button>
  </div>

  <!-- Menu Mobile -->
  <div id="mobile-menu" class="hidden md:hidden bg-black/90 border-t border-gray-800">
    <ul class="flex flex-col items-center space-y-4 py-4 text-gray-300">
      <li><a href="/" class="nav-link">Home</a></li>
      <li><a href="/zigzag" class="nav-link">Zigzag Cipher</a></li>
      <li><a href="/vigenere" class="nav-link">Vigenere Cipher</a></li>
      <li><a href="/stream" class="nav-link">Stream Cipher</a></li>
      <li><a href="/aes" class="nav-link">AES Cipher</a></li>
      <li><a href="/combine" class="nav-link">Combine Cipher</a></li>
    </ul>
  </div>
</nav>

<!-- Style khusus untuk animasi & efek hover -->
<style>
.nav-link {
  position: relative;
  transition: color 0.3s ease;
}
.nav-link::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -3px;
  width: 0%;
  height: 2px;
  background-color: #3b82f6; /* warna biru Tailwind */
  transition: width 0.3s ease;
}
.nav-link:hover {
  color: #3b82f6;
}
.nav-link:hover::after {
  width: 100%;
}
</style>

<!-- Script untuk toggle menu di mobile -->
<script>
document.getElementById('menu-toggle').addEventListener('click', () => {
  const menu = document.getElementById('mobile-menu');
  menu.classList.toggle('hidden');
});
</script>

  <!-- Konten -->
  <section class="h-screen flex flex-col justify-center items-center text-center px-6 bg-cover bg-center relative"
         style="background-image: url('{{ url_for("static", filename='back.jpg') }}');"> 

    
    <!-- Overlay gelap + blur -->
     <div class="absolute inset-0 bg-black bg-opacity-80"></div>

    <main class="relative z-10 bg-gray-900/90 p-8 rounded-xl shadow-lg w-full max-w-2xl overflow-hidden">
      <h1 class="text-2xl text-center font-bold text-blue-600 mb-4">Kombinasi 4 Layer</h1>

      <!-- Form -->
      <form method="POST" class="space-y-4">
        <textarea name="text" placeholder="Masukkan teks"
          class="w-full p-3 rounded bg-gray-800 text-white resize-none focus:outline-none focus:ring-2 focus:ring-blue-600"
          rows="5">{{ request.form.get('text', '') }}</textarea>

        <input type="text" name="key" placeholder="Masukkan key"
          value="{{ request.form.get('key', '') }}"
          class="w-full p-3 rounded bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-blue-600"/>

        <select name="mode" class="w-full p-3 rounded bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-blue-600">
          <option value="encrypt" {% if request.form.get('mode') == 'encrypt' %}selected{% endif %}>Enkripsi</option>
          <option value="decrypt" {% if request.form.get('mode') == 'decrypt' %}selected{% endif %}>Dekripsi</option>
        </select>

        <button type="submit" class="w-full bg-blue-600 py-2 rounded-lg hover:bg-blue-700 transition">Proses</button>
      </form>

      <!-- Hasil Akhir -->
      {% if result %}
      <div class="mt-5 p-4 bg-gray-800 rounded-lg max-h-40 overflow-y-auto break-words">
        <div class="flex items-center justify-between mb-2">
          <p class="font-semibold text-blue-300">Hasil Kombinasi:</p>
          <button onclick="copyResult()" class="bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm">Copy</button>
        </div>
        <p id="cipherResult" class="text-sm text-gray-200 leading-relaxed">{{ result }}</p>
      </div>
      {% endif %}

      <!-- Proses Perhitungan -->
      {% if process %}
      <div class="mt-6 bg-gray-800 p-4 rounded-lg max-h-60 overflow-y-auto">
        <p class="font-semibold text-blue-400 mb-2">Langkah-Langkah Kombinasi:</p>
        <ul class="list-disc pl-5 text-sm space-y-1 text-gray-300">
          {% for step in process %}
          <li class="break-words">{{ step }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
    </main>
  </section>

   <!-- Footer -->
  <footer class="bg-black text-gray-500 text-center py-6 border-t border-gray-800">
    Â© 2025 Endes Kriptografi | Dibuat oleh Kelompok 1 Kriptografi
  </footer>

</body>
</html>
